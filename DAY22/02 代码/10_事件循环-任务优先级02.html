<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<script>
			function delay(duration) {
				var start = Date.now();
				while (Date.now() - start < duration) {}
			}
			setTimeout(function() {

				console.log(1);
			}, 0);
			delay(1000)

			console.log(2);
		</script>
	</body>
</html>