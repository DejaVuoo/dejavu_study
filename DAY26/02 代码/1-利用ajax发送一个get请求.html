<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<h1>今天的励志话语是:</h1>
		<button onclick="init()">点我励志<button>
				<script>
					function init() {
						//利用ajax向接口发送清求○将返回那句中文渲染到页面
						//1.生成一个XMLHttpRequest对象
						let xhr = new XMLHttpRequest()
						//2.准备发送清求 调用open方法来发送请求 第一个参数是请求方式 第二个参数是请求地址 请求是异步的
						xhr.open('GET', 'https://api.vvhan.com/api/en')
						//3.发送请求
						xhr.send()
						//4.监听请求的状态
						xhr.addEventListener('readystatechange', function() {
							console.log(xhr.readyState);
							/* 	2: 请求已接收
								3: 正在处理请求
								4: 请求已完成且响应已就绪 
							*/
							if (xhr.readyState === 4) {
								//拿到请求的数据
								console.log(xhr.responseText)
								document.querySelector('h1').innerHTML = JSON.parse(xhr.responseText).data.zh
							}else{
								console.log('数据响应失败')
							}
						})
						
					}
				</script>
	</body>
</html>