# 昨日回顾

```
预编译
    全局对象Go(window对象)
        范围
            在script标签下
        全局变量
            GO对象的属性
        全局函数
            GO对象的方法
    活动对象AO(函数被调用时产生)
        范围
            在函数里面
        局部变量
            AO对象的属性
        局部函数
            AO对象的方法
     全局预编译
        概念
        	在script标签下，执行代码之前的预处理（处理变量和函数冲突问题）
        流程
            1,产生AO对象
            2,查找变量声明
            3,查找函数声明
            4,从上到下依次执行代码
    	结论
			在全局环境中，如果存在同名的函数和变量，函数的优先级高
    函数预编译
        概念
        	在函数里面，执行代码之前的预处理（处理变量和函数冲突问题）
        流程
            1,产生AO对象
            2,查找形参和变量声明
            3,使用实参的值替换形参的值
            4,查找函数声明
            5,从上到下依次执行代码

		结论
            在局部环境中，如果存在同名的函数和变量，函数的优先级高
            整体优先级：局部函数 > 实参 > 局部变量

作用域
    作用
    	限定变量的作用范围
    分类
    	全局作用域
    		script标签下，页面关闭的时候销毁
        局部作用域
        	函数里面，函数调用完成之后销毁
        块级作用域
        	ES6语法，if,for的{}里面 

作用域链
    概念
        每一个函数里面都会形成一个作用域，如果这个函数里面还有函数，就会形成一个新的作用域
        把这些作用域串起来，就形成一个作用域链([[scopes]])
    作用
        根据内部函数可以访问外部函数的变量，使用链式查找来决定哪些数据可以被内部函数访问
        
本地存储
    localStorage 长久存储
    sessionstorage 会话存储
    方法
        object.keys(localstorage) 获取所有的键值对
        setItem(键名，键值) 设置
        getItem(键名) 获取
        removeItem(键名) 移出
        clear() 清空
```



# 原型和this指向

```
实例成员
    在构造函数内部，通过this添加的成员(name,age,study)都是实例成员
    实例成员只能通过实例化对象访问（实例化对象，就是new出来的对象）
静态成员
    在构造函数本身上添加的成员，就是静态成员（直接加在Student上）
    静态成员只能通过构造函数访问
使用场景
	一般来说，共性可以使用静态定义，特性可以使用实例成员定义	    
```

### 原型由来

```
解决的问题
    之前使用this定义方法的时候，每new一次就会为对象的方法开辟一块空间，浪费内存
解决的思路
	把公共的方法定义到原型对象中（类的prototype属性，可以认为是类的静态成员）
```

### 原型对象prototype

```
概念
	是一个对象，每一个构造函数里面都有一个prototype属性，指向这个对象本身
	prototype一般称为原型对象
作用
	可以把那些不变的方法，直接定义到原型对象(prototype),所有对象的实例，都可以共享这个方法
位置
	在构造函数上（也可以认为在类上）.通过打印构造函数可以看到	
```

### 对象的原型proto

```
概念
	每一个对象都有一个属性__proto__，指向函数的原型对象(prototype)
	__proto__一般称之为对象的原型
作用
    为对象查找方法提供了一个机制（先从构造函数中找，如果找不到，再去它指向的原型对象中找）
位置
    在对象上面，通过打印对象才能看到	
```

### constructor构造函数

```
概念
	不管是原型对象(prototype),还是对象的原型(__proto__),里面都有一个属性constructor
	constructor一般称之为构造函数
作用
	主要记录该对象引用于哪一个构造函数
位置
	存在于原型对象(prototype) 或者 对象的原型(__proto__)的属性中	

```

### 原型链

```
概念
    每一个实例对象都有一个__proto__属性，指向构造函数的原型对象，构造函数的原型对象，也是一个对象，也有__proto__属性，指向上一层的原型对象

作用
    当实例对象调用方法时候，首先会在构造函数定义的方法中查找
    如果没有的话，就通过对象的__proto__属性找到原型对象，看原型对象里面有没有定义
    如果没有的话，就通过原型对象的__proto__属性找到上一层（父类）
    一直找到object,如果都没有，就报错
```



# 函数进阶

调用及this指向

```
					调用方式总结   		  this指向总结


命名函数 				函数名				    window
匿名函数	 			变量名 				window 
字面量对象定义的方法 		对象来调用 			创建出来的实例
事件处理函数 		   事件触发的时候自动调用 		事件源对象
定时器里面的函数 	  设置的时间到了自动调用		window
立即执行函数		    定义完直接调用 			window

```

### 改变this指向

```
call方法
    作用一：可以调用函数：函数名.call(要调用的对象，参数)
    作用二：可以改变函数内this的指向
```

### 高阶函数

```
函数也是类似，也可以作为参数和返回值，向这样的函数，叫做高阶函数
```



# 闭包

```
概念
	是一个函数，有权访问另外一个函数作用域内的变量，这变量所在的函数叫做闭包
作用
	延伸了变量的作用范围，之前定义在函数内的num只能在函数内获取，现在在函数外面也可以拿到
应用
	立即执行函数（立即执行函数里面的函数，可以访问立即执行函数里面定义的变量）	
```

